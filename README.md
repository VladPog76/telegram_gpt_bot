# ü§ñ Telegram Bot –∑ ChatGPT

–ü–æ—Ç—É–∂–Ω–∏–π Telegram –±–æ—Ç –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é ChatGPT, –≥–æ–ª–æ—Å–æ–≤–∏–º –≤–≤–µ–¥–µ–Ω–Ω—è–º/–≤–∏–≤–µ–¥–µ–Ω–Ω—è–º —Ç–∞ –±–∞–≥–∞—Ç—å–º–∞ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### üìå –û–±–æ–≤'—è–∑–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- **üí¨ /gpt** - –Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π —á–∞—Ç –∑ ChatGPT
  - –¢–µ–∫—Å—Ç–æ–≤—ñ —Ç–∞ –≥–æ–ª–æ—Å–æ–≤—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è
  - **üîä –û–∑–≤—É—á—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π** (Text-to-Speech)
  - –ë–∞–≥–∞—Ç–æ–∫—Ä–æ–∫–æ–≤—ñ –¥—ñ–∞–ª–æ–≥–∏
- **üé≤ /random** - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Ñ–∞–∫—Ç—ñ–≤
- **üó£Ô∏è /talk** - –î—ñ–∞–ª–æ–≥–∏ –∑ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏–º–∏ –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—è–º–∏ (–ï–π–Ω—à—Ç–µ–π–Ω, –®–µ–∫—Å–ø—ñ—Ä, –ú–∞—Å–∫, –î–∂–æ–±—Å)
- **üß† /quiz** - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∞ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–µ–º–∞–º–∏

### üéÅ –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- **üåç /translate** - –†–æ–∑—É–º–Ω–∏–π –ø–µ—Ä–µ–∫–ª–∞–¥–∞—á
  - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ 10+ –º–æ–≤
  - –ì–æ–ª–æ—Å–æ–≤–µ –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è
  - **üîä –û–∑–≤—É—á—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤** (Text-to-Speech)
- **üé§ –ì–æ–ª–æ—Å–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** - –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø–æ–∑–∞ –∫–æ–º–∞–Ω–¥–∞–º–∏

## üéôÔ∏è Text-to-Speech (–û–∑–≤—É—á—É–≤–∞–Ω–Ω—è)

–ë–æ—Ç —Ç–µ–ø–µ—Ä –ø—ñ–¥—Ç—Ä–∏–º—É—î –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –≥–æ–ª–æ—Å–æ–º!

### –î–µ –¥–æ—Å—Ç—É–ø–Ω–æ –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è:
- ‚úÖ **–í —Ä–µ–∂–∏–º—ñ /gpt** - –∫–Ω–æ–ø–∫–∞ "üîä –û–∑–≤—É—á–∏—Ç–∏" –ø—ñ–¥ –∫–æ–∂–Ω–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é
- ‚úÖ **–í —Ä–µ–∂–∏–º—ñ /translate** - –∫–Ω–æ–ø–∫–∞ "üîä –û–∑–≤—É—á–∏—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥"

### –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:
1. –ó–∞–¥–∞–π –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –Ω–∞–¥—ñ—à–ª–∏ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—É
2. –û—Ç—Ä–∏–º–∞–π –≤—ñ–¥–ø–æ–≤—ñ–¥—å/–ø–µ—Ä–µ–∫–ª–∞–¥ –∑ –∫–Ω–æ–ø–∫–∞–º–∏
3. –ù–∞—Ç–∏—Å–Ω–∏ "üîä –û–∑–≤—É—á–∏—Ç–∏"
4. –û—Ç—Ä–∏–º–∞–π –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î OpenAI TTS API (–º–æ–¥–µ–ª—å `tts-1`)
- –ì–æ–ª–æ—Å: `nova` (–∂—ñ–Ω–æ—á–∏–π, –∞–Ω–≥–ª—ñ–π—Å—å–∫–∞)
- –§–æ—Ä–º–∞—Ç –∞—É–¥—ñ–æ: MP3
- –í–∞—Ä—Ç—ñ—Å—Ç—å: ~$15 –∑–∞ 1 –º–ª–Ω —Å–∏–º–≤–æ–ª—ñ–≤

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Python 3.13**
- **python-telegram-bot 22.5** - Telegram Bot API
- **OpenAI API 2.4.0**
  - ChatGPT (–º–æ–¥–µ–ª—å `gpt-4o-mini`)
  - Whisper (—Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –º–æ–≤–∏)
  - TTS (—Å–∏–Ω—Ç–µ–∑ –º–æ–≤–ª–µ–Ω–Ω—è) üÜï
- **httpx 0.27.0** - HTTP –∫–ª—ñ—î–Ω—Ç –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –ø—Ä–æ–∫—Å—ñ
- **python-dotenv 1.1.1** - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏–º–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
```
telegram_gpt_bot/
‚îú‚îÄ‚îÄ bot.py                      # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ config.py                   # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–æ–∫–µ–Ω—ñ–≤
‚îú‚îÄ‚îÄ handlers/                   # –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ basic.py               # /start, /help
‚îÇ   ‚îú‚îÄ‚îÄ gpt_handler.py         # /gpt (–∑ TTS) üÜï
‚îÇ   ‚îú‚îÄ‚îÄ random_handler.py      # /random
‚îÇ   ‚îú‚îÄ‚îÄ talk_handler.py        # /talk
‚îÇ   ‚îú‚îÄ‚îÄ quiz_handler.py        # /quiz
‚îÇ   ‚îú‚îÄ‚îÄ translate_handler.py   # /translate (–∑ TTS) üÜï
‚îÇ   ‚îî‚îÄ‚îÄ voice_handler.py       # –ì–æ–ª–æ—Å–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ utils/                      # –î–æ–ø–æ–º—ñ–∂–Ω—ñ –º–æ–¥—É–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ openai_helper.py       # OpenAI API (ChatGPT, Whisper, TTS)
‚îÇ   ‚îî‚îÄ‚îÄ constants.py           # –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ images/                     # –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ temp/                       # –¢–∏–º—á–∞—Å–æ–≤—ñ —Ñ–∞–π–ª–∏ (–∞—É–¥—ñ–æ, –≥–æ–ª–æ—Å–æ–≤—ñ)
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env                        # –¢–æ–∫–µ–Ω–∏ (–Ω–µ –≤ Git!)
‚îî‚îÄ‚îÄ README.md
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
```bash
git clone https://github.com/your-username/telegram-gpt-bot.git
cd telegram-gpt-bot
```

### 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```bash
pip install -r requirements.txt
```

### 3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ —Ç–æ–∫–µ–Ω–∏
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:
```env
TELEGRAM_TOKEN=your_telegram_bot_token
OPENAI_TOKEN=your_openai_api_key
PROXY=http://proxy_url:port  # –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
```

### 4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞
```bash
python bot.py
```

## üåê –î–µ–ø–ª–æ–π

### Render.com (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
1. –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (TELEGRAM_TOKEN, OPENAI_TOKEN)
3. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –≤ webhook —Ä–µ–∂–∏–º—ñ

### –õ–æ–∫–∞–ª—å–Ω–æ
–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î polling —Ä–µ–∂–∏–º –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É.

## üìã –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `/start` | –ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏, –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é |
| `/help` | –î–æ–≤—ñ–¥–∫–∞ –∑ —É—Å—ñ—Ö –∫–æ–º–∞–Ω–¥ |
| `/gpt` | –ß–∞—Ç –∑ ChatGPT (–∑ –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è–º üîä) |
| `/random` | –í–∏–ø–∞–¥–∫–æ–≤–∏–π —Ñ–∞–∫—Ç |
| `/talk` | –î—ñ–∞–ª–æ–≥ –∑ —ñ—Å—Ç–æ—Ä–∏—á–Ω–æ—é –æ—Å–æ–±–∏—Å—Ç—ñ—Å—Ç—é |
| `/quiz` | –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –≤—ñ–∫—Ç–æ—Ä–∏–Ω–∞ |
| `/translate` | –ü–µ—Ä–µ–∫–ª–∞–¥–∞—á (–∑ –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è–º üîä) |

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### OpenAI API —Ü—ñ–Ω–∏:
- **GPT-4o-mini**: ~$0.15 –∑–∞ 1–ú —Ç–æ–∫–µ–Ω—ñ–≤ (–≤—Ö—ñ–¥), ~$0.60 –∑–∞ 1–ú —Ç–æ–∫–µ–Ω—ñ–≤ (–≤–∏—Ö—ñ–¥)
- **Whisper**: $0.006 –∑–∞ —Ö–≤–∏–ª–∏–Ω—É –∞—É–¥—ñ–æ
- **TTS**: $15.00 –∑–∞ 1–ú —Å–∏–º–≤–æ–ª—ñ–≤ üÜï

### –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –¥–ª—è TTS:
- –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ 100 —Å–∏–º–≤–æ–ª—ñ–≤ = $0.0015 (0.15 —Ü–µ–Ω—Ç—ñ–≤)
- 1000 –æ–∑–≤—É—á—É–≤–∞–Ω—å –ø–æ 100 —Å–∏–º–≤–æ–ª—ñ–≤ = $1.50
- –û–∑–≤—É—á—É–≤–∞–Ω–Ω—è –µ–∫–æ–Ω–æ–º–Ω–µ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π!

## üîí –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ –¢–æ–∫–µ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `.env` (–Ω–µ –∫–æ–º—ñ—Ç—è—Ç—å—Å—è –≤ Git)
- ‚úÖ –¢–∏–º—á–∞—Å–æ–≤—ñ —Ñ–∞–π–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –Ω–∞ –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—è—Ö
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–¥—ñ–π

## üêõ Troubleshooting

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ /translate
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ `callback_data` –≤ –∫–Ω–æ–ø–∫–∞—Ö —Å–ø—ñ–≤–ø–∞–¥–∞—î –∑ `pattern` –≤ `bot.py`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞ –ø—ñ—Å–ª—è –∑–º—ñ–Ω

### –û–∑–≤—É—á—É–≤–∞–Ω–Ω—è –Ω–µ –ø—Ä–∞—Ü—é—î
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø–∞–ø–∫–∞ `temp/` —ñ—Å–Ω—É—î –∞–±–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–º–∏–ª–∫–∏ OpenAI API
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –±–∞–ª–∞–Ω—Å OpenAI –∞–∫–∞—É–Ω—Ç—É

### –ü–æ–º–∏–ª–∫–∞ "–¢–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á—É–≤–∞–Ω–Ω—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
- –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–µ—à –∑–∞—Å—Ç–∞—Ä—ñ–≤ (–±–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–≤—Å—è)
- –ó–∞–¥–∞–π—Ç–µ –ø–∏—Ç–∞–Ω–Ω—è –∑–Ω–æ–≤—É

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–ª—å–Ω–æ!

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ —è–∫ –Ω–∞–≤—á–∞–ª—å–Ω–∏–π –ø—Ä–æ—î–∫—Ç –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è:
- Telegram Bot API
- OpenAI API (ChatGPT, Whisper, TTS)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (async/await)
- ConversationHandler –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –¥—ñ–∞–ª–æ–≥—ñ–≤
- Text-to-Speech —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó üÜï

## üôè –ü–æ–¥—è–∫–∏

- [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot)
- [OpenAI API](https://platform.openai.com/)
- –°–ø—ñ–ª—å–Ω–æ—Ç–∞ Python —Ç–∞ Telegram —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤

---

**‚≠ê –Ø–∫—â–æ –ø—Ä–æ—î–∫—Ç –±—É–≤ –∫–æ—Ä–∏—Å–Ω–∏–º, –ø–æ—Å—Ç–∞–≤—Ç–µ –∑—ñ—Ä–æ—á–∫—É –Ω–∞ GitHub!**
